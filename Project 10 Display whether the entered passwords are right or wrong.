#include <Wire.h>
#include <LiquidCrystal_I2C.h>
#include <Keypad.h>

// Define the number of rows and columns in the keypad
const byte numRows = 4;
const byte numCols = 4;

// Define the key map for the keypad
char keys[numRows][numCols] = {
  {'1', '2', '3', 'A'},
  {'4', '5', '6', 'B'},
  {'7', '8', '9', 'C'},
  {'*', '0', '#', 'D'}
};

// Define the row and column pins for the keypad
byte rowPins[numRows] = {8, 7, 6, 5};
byte colPins[numCols] = {4, 3, 2, 1};

// Create the keypad object
Keypad keypad = Keypad(makeKeymap(keys), rowPins, colPins, numRows, numCols);

// Define the password
String password = "7896";
String inputPassword = "";

void setup() {
  Serial.begin(9600);
  lcd.begin(16, 2);
  lcd.backlight();
  lcd.setCursor(0, 0);
  lcd.print("Enter Password:");
}

void loop() {
  char keyPressed = keypad.getKey();

  if (keyPressed) {
    Serial.println(keyPressed);

    // If the '#' key is pressed, check the password
    if (keyPressed == '#') {
      lcd.clear();
      if (inputPassword == password) {
        lcd.setCursor(0, 0);
        lcd.print("Password Correct!");
      } else {
        lcd.setCursor(0, 0);
        lcd.print("Wrong Password!");
      }
      delay(2000); // Wait for 2 seconds
      lcd.clear();
      lcd.setCursor(0, 0);
      lcd.print("Enter Password:");
      inputPassword = ""; // Clear the input password
    } else {
      // Add the key pressed to the input password
      inputPassword += keyPressed;
      lcd.setCursor(inputPassword.length() - 1, 1);
      lcd.print('*'); // Print an asterisk to hide the actual key
    }
  }
}
